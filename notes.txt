https://www.youtube.com/watch?v=GeParYI2J6I

GODOT 4.5.1

+++++++++++
IMPACT
+++++++++++

add node GPUParticle3d > inpector > process material > new particle process material

add node GPUParticle3d > inpector > draw passes > pass 1 > new quad mesh

add node GPUParticle3d > inpector > process material > process material > click on > accélérations > gravity > y==0

add node GPUParticle3d > inpector > amount == 1

add node GPUParticle3d > inpector > geometry > material override > shader material > click on > shader > new shader, (visual shader) simple shader > click on
flags > unshaded > enabled

********
Particle look at the camera

en bas au niveau du terminal, onglet shder editor > select vertex ref image visual_shader_fragment.png

add node getBillbordMatrix
getBillbordMatrix node (model_view_matrix) link to output node (model view matrix)
billbord type > particles
keep scale > enabled

********
display

en bas au niveau du terminal, onglet shder editor > select fragment ref image visual_shader_fragment.png

add node color (fragment)

color node (1er point) link to output node (albedo)

add node texture2dparameter > type > color > rename it to "hit_texture"

from the point "sampler2d" du node texture2dparameter, drag mouse dans le vide/espace, add node texture2d > liste déroulante data to color, ref image texture2d.png

add node multiply (float operators)

texture2d node (red) link to multiply node (a)
color node (alpha) link to multiply node (b), ref image color_fragment.png (maj 3:51)
multiply node (op) link to output node (alpha)

select GPUParticle3d node > inpector > geometry > material override > shader material > click on > shader parameter > hit texture > drag n drop "texture flare"

select GPUParticle3d node > inpector > process material > process material > click on > spawn > angle > min=-180;max=180

select GPUParticle3d node > inpector > process material > process material > click on > display > scale > min=0.8;max=1.5

select GPUParticle3d node > inpector > process material > process material > click on > display > scale > scale curve > curveTexture, ref image curve_texture.png

select GPUParticle3d node > inpector > process material > process material > click on > display > color curve > color ramp > new gradienTexture 1d > click on > use HDR > enbaled
gradient > click on > start du gradient raw 8;0.8;0 | end du gradient raw 1;0.5;0.2

select GPUParticle3d node > inpector > process material > process material > click on > display > color curve > alpha curve > curveTexture, ref image alpha_curve.png

select GPUParticle3d node > inpector > Time > 0.25

select GPUParticle3d node > inpector > Time > explosiveness = 1

+++++++++++
SPARKS
+++++++++++

add node GPUParticle3d > inpector > process material > new particle process material

add node GPUParticle3d > inpector > draw passes > pass 1 > new quad mesh > click on > size x=0.05;y=0.3

add node GPUParticle3d > inpector > process material > process material > click on > accélérations > gravity > y==0

add node GPUParticle3d > inpector > process material > process material > click on > spawn > Velocity > direction > x=0;y=1;z=0

add node GPUParticle3d > inpector > process material > process material > click on > spawn > Velocity > spread = 180

add node GPUParticle3d > inpector > process material > process material > click on > spawn > Velocity > initial Velocity min=8;max=12

select GPUParticle3d node > inpector > Time > 0.25

select GPUParticle3d node > inpector > Time > explosiveness = 1

add node GPUParticle3d > inpector > process material > process material > click on > particle flags > align y > enabled

********
display

duplicate simple_shader.tres > click on > en bas au niveau du terminal, onglet shder editor > select vertex ref image visual_shader_fragment.png

select node getBillbordMatrix > billbord type > disabled

select simple_shader2.tres > inspector > mode > cull > disabled

select GPUParticle3d > inpector > geometry > material override > shader material > click on > shader > drag n drop simple_shader2.tres

select GPUParticle3d node > inpector > geometry > material override > shader material > click on > shader parameter > hit texture > drag n drop "circle"

select GPUParticle3d node > inpector > process material > process material > click on > display > color curve > color > raw 2.5;2;0.5

select GPUParticle3d node > inpector > process material > process material > click on > display > scale > min=0.3;max=0.5

select GPUParticle3d node > inpector > process material > process material > click on > display > color curve > alpha curve > curveTexture, ref image alpha_curve.png

+++++++++++
Mark
+++++++++++

add node decal (bien pour bullet/explosion/blood marks) > inpector > texture > albedo > drag n drop texture "groundmark"

********
groundmark & hit effect ne se superpose pas

select GPUParticle3d (hit effect) > inpector > layer 3

select GPUParticle3d (decal) > inpector > cull mask > disable 3

********
pour que le groundmark ne disparait pas lorsque le hit effect est loin

select GPUParticle3d (decal) > inpector > vertical fade > upper=0.0123;lower=0.0

********
increase quality ? de la mark

select simple_shader.tres > click on > en bas au niveau du terminal, onglet shder editor > select fragment ref image visual_shader_fragment.png

add node proximityfade

add node multiply (float operators)

proximityfade node (fade) link to multiply node (a)
multiply node (op) [from impact part] link to multiply node (b)
multiply node (op) link to output node (alpha), ref image decal_shader_fix.png

ASTUCE
click droit sur le node "hit vfx" > save the branch as a new scènes

select GPUParticle3d (hit effect) > inpector > Time > one shot

select GPUParticle3d (sparks) > inpector > Time > one shot

select GPUParticle3d (sparks) > inpector > amount = 25

****
animation player

add node animation player > en bas au niveau du terminal, onglet animation > click on btn animation, ref image btn_animation.png > new animation

Animation tab(doit etre ouvert/activ) select hit effect > inspector > emitting > enabled > click key
Animation tab(doit etre ouvert/activ) select sparks > inspector > emitting > enabled > click key

Animation tab(doit etre ouvert/activ) select decal > inspector > parameters > albedo mix > 0 > click key (time 0.0)
Animation tab(doit etre ouvert/activ) select decal > inspector > parameters > albedo mix > 1 > click key (time 0.1)
Animation tab(doit etre ouvert/activ) select decal > inspector > parameters > albedo mix > 1 > click key (time 0.4)
Animation tab(doit etre ouvert/activ) select decal > inspector > parameters > albedo mix > 0 > click key (time 0.7)
autoplay, ref_image autoplay_animation.png